<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GOLD RUSH PRO</title>

    <script type='text/javascript' src='//pl25492440.highperformancetransform.com/49/74/45/497445c589a1969a53823467f33d45f3.js' async></script>

    <script src="https://pl28539220.effectivegatecpm.com/b7/4b/4a/b74b4ae1380f4260799f0f21e08175a1.js" defer></script>

    <style>
        :root { --gold: #FFD700; --bg: #0b0f1a; --card-bg: #161e2d; --success: #00FF87; --diamond: #00d4ff; }
        body { margin: 0; background: var(--bg); color: white; font-family: 'Segoe UI', sans-serif; overflow: hidden; touch-action: none; }
        .header { position: absolute; top: 0; width: 100%; height: 70px; background: rgba(0,0,0,0.9); display: flex; justify-content: space-around; align-items: center; z-index: 200; border-bottom: 2px solid #222; }
        .stat-box { font-size: 22px; font-weight: 900; color: var(--gold); }
        .diamond-box { color: var(--diamond); }
        .ad-slot-top { position: absolute; top: 72px; width: 100%; display: flex; justify-content: center; z-index: 150; }
        .ad-slot-bottom { position: absolute; bottom: 0; width: 100%; display: flex; justify-content: center; z-index: 150; background: rgba(0,0,0,0.8); padding: 5px 0; }
        canvas { display: block; background: radial-gradient(circle, #1e293b 0%, #000 100%); }
        .overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.97); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 500; padding: 20px; text-align: center; }
        .btn { padding: 18px; margin: 8px; border: none; border-radius: 20px; cursor: pointer; font-size: 20px; font-weight: bold; width: 280px; }
        .btn-play { background: linear-gradient(to right, #2ed573, #1abc9c); color: white; }
        .btn-back { background: transparent; color: #64748b; text-decoration: underline; border: none; }
        .hidden { display: none !important; }
        .redeem-card { width: 90%; background: #161e2d; margin: 10px auto; padding: 15px; border-radius: 15px; border: 1px solid #334155; display: flex; justify-content: space-between; align-items: center; }
        input { padding: 15px; width: 85%; border-radius: 15px; margin: 15px 0; border: none; background: #0f172a; color: #fff; font-size: 18px; text-align: center; }
    </style>
</head>
<body>

<div id="blockPage" class="overlay hidden" style="background: red; z-index: 1000;">
    <h1>ACCOUNT BLOCKED</h1>
    <p>‡¶∏‡¶®‡ßç‡¶¶‡ßá‡¶π‡¶ú‡¶®‡¶ï ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡ßç‡¶∞‡¶Æ‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¨‡ßç‡¶≤‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§</p>
</div>

<div class="ad-slot-top">
    <script type="text/javascript">
        atOptions = { 'key' : '5cf8d64eb4ced5c0c10cf22d8cce7f20', 'format' : 'iframe', 'height' : 50, 'width' : 320, 'params' : {} };
    </script>
    <script type="text/javascript" src="https://www.highperformanceformat.com/5cf8d64eb4ced5c0c10cf22d8cce7f20/invoke.js"></script>
</div>

<div class="header">
    <div class="stat-box">üí∞ <span id="displayCoins">0</span></div>
    <div class="stat-box">‚≠ê <span id="displayStars">0</span></div>
    <div class="stat-box diamond-box">üíé <span id="displayDiamonds">0</span></div>
</div>

<canvas id="gameCanvas"></canvas>

<div class="ad-slot-bottom">
    <script type="text/javascript">
        atOptions = { 'key' : '1ddd8292cd260471a9a375a03337e011', 'format' : 'iframe', 'height' : 60, 'width' : 468, 'params' : {} };
    </script>
    <script type="text/javascript" src="https://www.highperformanceformat.com/1ddd8292cd260471a9a375a03337e011/invoke.js"></script>
</div>

<div id="menu" class="overlay">
    <h1 style="color:var(--gold); font-size: 40px;">GOLD RUSH</h1>
    <div style="margin: 15px 0; min-height: 50px;">
        <script async="async" data-cfasync="false" src="https://pl28539264.effectivegatecpm.com/974661ec30ee83e745019cf11492b096/invoke.js"></script>
        <div id="container-974661ec30ee83e745019cf11492b096"></div>
    </div>
    <p id="userIdDisplay" style="color: #64748b; font-size: 11px; margin-bottom: 10px;"></p>
    <button class="btn btn-play" onclick="startGame()">START GAME</button>
    <button class="btn" style="background:#f39c12; color:white;" onclick="showRedeem()">WITHDRAW CASH</button>
</div>

<div id="resultPage" class="overlay hidden">
    <h2>Game Over</h2>
    <div style="font-size: 25px; color: var(--gold);">Collected ‚≠ê: <span id="resStars">0</span></div>
    <div id="reward-box" style="margin: 15px 0;"></div>
    <button class="btn btn-play" onclick="triggerDirect(); startGame();">PLAY AGAIN</button>
    <button class="btn-back" onclick="showMenu()">GO TO MENU</button>
</div>

<div id="redeemPage" class="overlay hidden" style="justify-content: flex-start; padding-top: 80px;">
    <h2 style="color:var(--gold)">Withdraw Panel</h2>
    <div class="redeem-container">
        <div class="redeem-card" onclick="openForm(10000, 5, 'coins')"><span class="star-highlight">10,000 üí∞</span><span style="color:var(--success)">‡ß≥‡ß´</span></div>
        <div class="redeem-card" onclick="openForm(5000, 60, 'stars')"><span class="star-highlight">5,000 ‚≠ê</span><span style="color:var(--success)">‡ß≥‡ß¨‡ß¶</span></div>
    </div>
    <button class="btn-back" onclick="hideRedeem()">BACK</button>
</div>

<div id="formPage" class="overlay hidden">
    <div style="background:var(--card-bg); padding:20px; border-radius:20px; width:85%;">
        <h3 id="selectedPlanText">Confirm</h3>
        <input type="number" id="userInput" placeholder="‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂/‡¶®‡¶ó‡¶¶ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞">
        <button class="btn btn-play" style="width: 100%;" onclick="triggerDirect(); finalSubmit();">CONFIRM</button>
        <button class="btn-back" onclick="closeForm()">CANCEL</button>
    </div>
</div>

<script>
    const SMART_LINK = "https://www.effectivegatecpm.com/b6b8143r?key=70242de186825564fc467bea833a7294";
    const COIN_LIMIT_PER_MATCH = 999999; 
    const REWARD_COOLDOWN = 24 * 60 * 60 * 1000;

    function triggerDirect() { window.open(SMART_LINK, '_blank'); }

    if(localStorage.getItem('isBlocked')) document.getElementById('blockPage').classList.remove('hidden');
    let userId = localStorage.getItem('gameUserId') || 'GR-' + Math.random().toString(36).substr(2, 9).toUpperCase();
    localStorage.setItem('gameUserId', userId);
    document.getElementById('userIdDisplay').innerText = "ID: " + userId;

    let coins = parseInt(localStorage.getItem('coins')) || 0;
    let stars = parseInt(localStorage.getItem('stars')) || 0;
    let diamonds = parseInt(localStorage.getItem('diamonds')) || 0;
    let gameActive = false, items = [], sessionStars = 0, sessionCoins = 0;
    let currentSpeed = 7, spawnRate = 850;

    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    let basket = { x: canvas.width/2-60, w: 120, h: 50, y: canvas.height-180 };

    function updateUI() {
        document.getElementById('displayCoins').innerText = sessionCoins;
        document.getElementById('displayStars').innerText = sessionStars;
        document.getElementById('displayDiamonds').innerText = diamonds;
        localStorage.setItem('coins', coins); localStorage.setItem('stars', stars); localStorage.setItem('diamonds', diamonds);
    }

    function startGame() {
        if(localStorage.getItem('isBlocked')) return;
        hideAll(); items = []; sessionStars = 0; sessionCoins = 0;
        currentSpeed = 7; spawnRate = 850; gameActive = true;
        updateUI(); spawn(); loop();
    }

    function spawn() {
        if(!gameActive) return;
        let type = 'g'; let rand = Math.random();
        if(rand > 0.85) type = 's'; else if(rand < 0.01) type = 'd';
        items.push({ x: Math.random()*(canvas.width-40)+20, y: -20, s: currentSpeed, t: type });
        setTimeout(spawn, spawnRate);
    }

    function loop() {
        if(!gameActive) return;
        ctx.clearRect(0,0,canvas.width, canvas.height);
        ctx.fillStyle = "#8B4513"; ctx.beginPath(); ctx.roundRect(basket.x, basket.y, basket.w, basket.h, 15); ctx.fill();
        items.forEach((item, i) => {
            item.y += item.s;
            ctx.font="35px Arial";
            ctx.fillText(item.t==='s'?'‚≠ê':(item.t==='d'?'üíé':'üü°'), item.x-17, item.y+15);
            if(item.y > basket.y && item.y < basket.y+basket.h && item.x > basket.x && item.x < basket.x+basket.w) {
                if(item.t === 's') { stars++; sessionStars++; }
                else if(item.t === 'd') { diamonds++; }
                else { coins++; sessionCoins++; }
                items.splice(i, 1); updateUI();
            }
            if(item.y > canvas.height) {
                if(diamonds > 0) { diamonds--; items.splice(i, 1); updateUI(); } 
                else { gameActive = false; showResult(); }
            }
        });
        requestAnimationFrame(loop);
    }

    function showResult() {
        if(sessionCoins > COIN_LIMIT_PER_MATCH) { localStorage.setItem('isBlocked', 'true'); location.reload(); }
        hideAll(); document.getElementById('resStars').innerText = sessionStars;
        document.getElementById('resultPage').classList.remove('hidden');
        renderRewardButton(); updateUI();
    }

    function renderRewardButton() {
        const box = document.getElementById('reward-box');
        const last = localStorage.getItem('last_claim');
        if(!last || (Date.now() - last >= REWARD_COOLDOWN)) {
            box.innerHTML = `<button class="btn" style="background:var(--gold)" onclick="claimDiamond()">üéÅ CLAIM 10 DIAMONDS</button>`;
        } else box.innerHTML = `<p style="color:#64748b; font-size:12px;">Bonus available in 24h</p>`;
    }

    function claimDiamond() {
        window.open(SMART_LINK, '_blank'); diamonds += 10;
        localStorage.setItem('last_claim', Date.now()); updateUI(); renderRewardButton();
    }

    function showMenu() { hideAll(); document.getElementById('menu').classList.remove('hidden'); }
    function hideAll() { document.querySelectorAll('.overlay').forEach(p => p.classList.add('hidden')); }
    function showRedeem() { hideAll(); document.getElementById('redeemPage').classList.remove('hidden'); }
    function hideRedeem() { showMenu(); }
    function openForm(a, t, type) { window.currentWithdraw = {a, type}; document.getElementById('formPage').classList.remove('hidden'); }
    function closeForm() { document.getElementById('formPage').classList.add('hidden'); }
    function finalSubmit() { 
        const n = document.getElementById('userInput').value; if(n.length<10) return;
        let {a, type} = window.currentWithdraw;
        if(type==='stars') stars-=a; else coins-=a; updateUI();
        window.open(`https://wa.me/916295650647?text=ID:${userId}%20Withdraw:${a}%20to:${n}`);
        location.reload();
    }
    canvas.addEventListener('touchmove', e => { e.preventDefault(); basket.x = e.touches[0].clientX - basket.w/2; }, {passive: false});
    showMenu();
</script>
</body>
</html>
